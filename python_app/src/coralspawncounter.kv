#: import SpawnCounterPreview spawn_counter.SpawnCounterPreview
#: import LabelledSlider widgets.LabelledSlider
#: import ControlsSidebar widgets.ControlsSidebar

<LabelledSlider@Slider>:
    sensitivity: "all"
    Label:
        pos: (root.value_pos[0] - sp(16), root.center_y - sp(40)) if root.orientation == 'horizontal' else (root.center_x - sp(27), root.value_pos[1] - sp(16))
        size_hint: None, None
        size: sp(32), sp(32)
        text: str(root.value)
    Label:
        pos: (root.pos[0] + sp(10), root.pos[1] + (root.height/2) + sp(10))
        size_hint: None, None
        size: self.texture_size
        text: str(root.text)

<ControlsSidebar>:
    orientation: 'vertical'
    LabelledSlider:
        text: "Exposure"
        min: 100
        max: 200
        value: 150
    LabelledSlider:
        text: "Erode Kernel Size (px)"
        min: 100
        max: 200
        value: 150
    LabelledSlider:
        text: "Erode Iterations"
        min: 100
        max: 200
        value: 150
    LabelledSlider:
        text: "Min Diameter Threshold (Âµm)"
        min: 100
        max: 200
        value: 150
    LabelledSlider:
        text: "ROI Horizontal (px)"
        min: 100
        max: 200
        value: 150
    LabelledSlider:
        text: "ROI Vertical (px)"
        min: 100
        max: 200
        value: 150

<AppLayout>:
    preview: self.ids.preview
    orientation: 'horizontal'
    SpawnCounterPreview:
        id: preview
        aspect_ratio: '16:9'
        size_hint: 0.8, 1
    ControlsSidebar:
        id: controls
        size_hint: 0.2, 1
